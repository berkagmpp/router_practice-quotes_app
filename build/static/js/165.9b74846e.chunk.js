"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[165],{165:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var s=n(791),c=n(523),r=n(271),o=n(995),a=n(853),m=n(556),d="HighlightedQuote_quote__MJcnm",i=n(184),l=function(e){return(0,i.jsxs)("figure",{className:d,children:[(0,i.jsx)("p",{children:e.text}),(0,i.jsx)("figcaption",{children:e.author})]})},u=n(152),h="NewCommentForm_form__qGhXV",x="NewCommentForm_control__lfnDb",f="NewCommentForm_actions__2W1Z5",j=function(e){var t=(0,s.useRef)(),n=(0,o.Z)(a.Ir),c=n.sendRequest,r=n.status,d=n.error,l=e.onAddedComment;(0,s.useEffect)((function(){"completed"!==r||d||l()}),[r,d,l]);var u=function(n){n.preventDefault();var s=t.current.value;c({commentData:{enteredText:s},quoteId:e.quoteId})};return(0,i.jsxs)("form",{className:h,onSubmit:u,children:["pending"===r&&(0,i.jsx)("div",{className:"centered",children:(0,i.jsx)(m.Z,{})}),(0,i.jsxs)("div",{className:x,onSubmit:u,children:[(0,i.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,i.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),(0,i.jsx)("div",{className:f,children:(0,i.jsx)("button",{className:"btn",children:"Add Comment"})})]})},_="CommentItem_item__hTC0B",p=function(e){return(0,i.jsx)("li",{className:_,children:(0,i.jsx)("p",{children:e.text})})},N="CommentsList_comments__87I7n",C=function(e){return(0,i.jsx)("ul",{className:N,children:e.comments.map((function(e){return(0,i.jsx)(p,{text:e.enteredText},e.id)}))})},v="Comments_comments__av3QO",b=function(){var e=(0,s.useState)(!1),t=(0,u.Z)(e,2),n=t[0],c=t[1],d=(0,r.UO)().quoteId,l=(0,o.Z)(a.h_),h=l.sendRequest,x=l.status,f=l.data;(0,s.useEffect)((function(){h(d)}),[h,d]);var _,p=(0,s.useCallback)((function(){h(d)}),[h,d]);return"pending"===x&&(_=(0,i.jsx)("div",{className:"centered",children:(0,i.jsx)(m.Z,{})})),"completed"===x&&f&&f.length>0&&(_=(0,i.jsx)(C,{comments:f})),"completed"!==x||f&&0!==f.length||(_=(0,i.jsx)("p",{className:"centered",children:"No comments were added yet!"})),(0,i.jsxs)("section",{className:v,children:[(0,i.jsx)("h2",{children:"User Comments"}),!n&&(0,i.jsx)("button",{className:"btn",onClick:function(){c(!0)},children:"Add a Comment"}),n&&(0,i.jsx)(j,{quoteId:d,onAddedComment:p}),_]})},g=function(){var e=(0,r.UO)().quoteId,t=(0,r.$B)(),n=(0,o.Z)(a.jR,!0),d=n.sendRequest,u=n.status,h=n.data,x=n.error;return(0,s.useEffect)((function(){d(e)}),[d,e]),"pending"===u?(0,i.jsx)("div",{className:"centered",children:(0,i.jsx)(m.Z,{})}):x?(0,i.jsx)("p",{className:"centered focused",children:x}):h.text?(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(l,{author:h.author,text:h.text}),(0,i.jsx)(r.AW,{path:t.path,exact:!0,children:(0,i.jsx)("div",{className:"centered",children:(0,i.jsx)(c.rU,{className:"btn--flat",to:"".concat(t.url,"/comments"),children:"Load Comments"})})}),(0,i.jsx)(r.AW,{path:"".concat(t.path,"/comments"),children:(0,i.jsx)(b,{})})]}):(0,i.jsx)("p",{children:"No quote found!"})}}}]);
//# sourceMappingURL=165.9b74846e.chunk.js.map